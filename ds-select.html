<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>ds-select</title>
<script src="jquery.min.js"></script>
<style>
/*default*/
/*div, ul, li { padding: 0; margin: 0; list-style: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }
.a-dropDown { position: relative; }
.a-dropDown .a-click { position: relative; width: 100%; height: 38px; padding: 0 10px; font-size: 14px; line-height: 36px; color: #444; border: 1px solid #ccc; border-radius: 3px; -webkit-border-radius: 3px; -moz-border-radius: 3px; border-bottom-left-radius: 0; border-bottom-right-radius: 0; cursor: pointer; }
.a-dropDown .icon { position: absolute; right: 10px; top: 15px; display: inline-block; width: 0; height: 0; border-top: 6px solid #999; border-left: 6px solid transparent; border-right: 6px solid transparent; color: #606060; }
.a-dropDown .icon.on { border-top: none; border-bottom: 6px solid #999; }
.a-dropDown ul { display: none; position: absolute; width: 100%; background-color: #fff; border: 1px solid #ccc; border-top: none; }
.a-dropDown ul li { padding: 0 10px; font-size: 14px; line-height: 34px; color: #606060; cursor: pointer; }
.a-dropDown ul li:hover, .a-dropDown ul li.on, .a-dropDown ul li.hover { background: #fff6ed; color: #606060; }
.content { display: none;}
.content.on { display: block; }*/
/*demo css*/
#DropDown { width:300px;}
.selectWrapper { margin: 50px !important; }
.content { margin: 50px !important; padding: 15px !important; border: 1px solid #ddd; }
</style>
</head>

<body>
<div id="DropDown">
    <div class="selectWrapper">
        <div class="toggleNode"><span class="cur-text">Option 1</span><span class="icon"></span></div>
        <ul class="selectNode">
            <li class="on">Option 1</li>
            <li>Option 2</li>
            <li>Option 3</li>
            <li>Option 4</li>
            <li>Option 5</li>
        </ul>
    </div>
</div>
<div class="content on"> Option 1 </div>
<div class="content"> Option 2 </div>
<div class="content"> Option 3 </div>
<div class="content"> Option 4 </div>
<div class="content"> Option 5 </div>
<div>ewgewgweg</div>
<ul>
<li>werghrewh</li>
</ul>
</body>
<script>
(function ($) {
/*drop down menu*/
$.fn.DsSelect = function (options) {
	/*default configuration properities*/
	var defaults = {
		//插件涉及的元素节点
		_selectWrapper: ".selectWrapper", //插件最外层的容器，可为 ID/tagName
		_toggleNode: ".toggleNode", //绑定了 click 事件的节点
		_currentText: ".cur-text", //显示当前选中的 option 内容的容器
		_iconNode: ".icon", //右边的下拉小三角图标
		_selectNode: ".selectNode", //下拉列表 select 元素（可为 ID/tagName）
		_optionNode: "li", //下拉列表的 option 子项
		_controlContent: ".content", //插件控制显示切换的内容容器
		//插件在 sildeUp/slideDown 切换时用于改变元素样式的 class
		_currentSelectClass: "on", //当前选中的 option 新 Add 的 class
		_currentOptionClass: "on", //当前选中的 option 新 Add 的 class
		_toggleNodeClass: "on", //列表下拉时 _toggleNode 新 Add 的 class
		_toggleIconClass: "on", //列表下拉时 _iconNode 新 Add 的 class
		_toggleIconText: "", //列表下拉时 _iconNode 的内容（只有在 _iconNode.text()初始值不为空时该属性才有效）
		_currentContentClass: "on", //当前显示的 content 独有的 class
		//插件的其他属性
		_switchSpeed: "", //下拉列表 sildeUp/slideDown 的切换速度
		_documentClick: "true", //点击页面是否收起下拉列表(true/false)
		//插件的默认样式设置
		_defaultBorderColor: "#ccc", //默认的边框背景色
		_iconDefaultColor: "#999" //点击页面是否收起下拉列表(true/false)
	};
	var options = $.extend(defaults, options);
	//插件涉及的元素节点
	var selectWrapper = options._selectWrapper;
	var toggleNode = options._toggleNode;
	var currentText = options._currentText;
	var iconNode = options._iconNode;
	var selectNode = options._selectNode;
	var optionNode = options._optionNode;
	var controlContent = options._controlContent;
	//插件在 sildeUp/slideDown 切换时用于改变元素样式的 class
	var toggleNodeClass = options._toggleNodeClass;
	var toggleIconClass = options._toggleIconClass;
	var curSelectClass = options._currentSelectClass;
	var curOptionClass = options._currentOptionClass;
	var curContentClass = options._currentContentClass;
	//插件的其他属性
	var switchSpeed = options._switchSpeed;
	var defaultBorderColor = options._defaultBorderColor;
	var defaultIconColor = options._iconDefaultColor;
	
	

	$(selectWrapper).find(toggleNode).each(function(index, element) {   
       $(this).bind("click", function(e){
		  //toggleNode
		  var curToggleNode = $(this); //鼠标当前点击的节点
		  curToggleNode.toggleClass(toggleNodeClass);
		  if(curToggleNode.hasClass(toggleNodeClass)){
			  curToggleNode.css({"border-radius":"3px 3px 0 0"});
		  }else{
		  	  curToggleNode.css({"border-radius":"3px"});
		  }
		  //iconNode
		  var curIconNode = curToggleNode.find(iconNode);
		  curIconNode.toggleClass(toggleIconClass);
		  if(curIconNode.hasClass(toggleIconClass)){
		  	  curIconNode.css({"border-top-width":"0","border-bottom-width":"6px"});
		  }else{
		  	  curIconNode.css({"border-bottom-width":"0","border-top-width":"6px"});
		  }
		  //selectNode
		  var curSelectNode = curToggleNode.siblings(selectNode); //鼠标当前操作的下拉列表
		  curSelectNode.slideToggle(switchSpeed).toggleClass(curSelectClass);
		  if(curSelectNode.hasClass(curSelectClass)){
		  	  curSelectNode.css({"border-radius":"0 0 3px 3px"});
		  }else{
		  	  curSelectNode.css({"border-radius":"0"});
		  }	  
		  
		  curSelectNode.find(optionNode).each(function(index, element) {   
				$(this).hover(function(){
					curSelectNode.find(optionNode).css({"background-color":""});
					$(this).css({"background-color":"#fff6ed"});
				},
				function(){
					curSelectNode.find(optionNode).css({"background-color":""});
					for(var i = 0;i<curSelectNode.find(optionNode).length;i++){	
						if(curSelectNode.find(optionNode).eq(i).hasClass(curOptionClass)){
							curSelectNode.find(optionNode).eq(i).css({"background-color":"#fff6ed"});
						}
					}
				}).click(function(){
					var curText = $(this).text();
					curToggleNode.find(currentText).text(curText);
					curSelectNode.find(optionNode).removeClass(curOptionClass).css({"background-color":""});
					curSelectNode.find(optionNode).eq(index).addClass(curOptionClass).css({"background-color":"#fff6ed"});
					//call back function
					$(controlContent).removeClass(curContentClass).css("display","none");
					$(controlContent).eq(index).addClass(curContentClass).css("display","block");			
				});
			});
		});
	});
	
	$(document).click(function(){
		if(options._documentClick != 'false'){
			$(toggleNode).removeClass(toggleNodeClass).css({"border-radius":"3px"});
			$(toggleNode).find(iconNode).removeClass(toggleIconClass).css({"border-bottom":"none","border-top":"6px solid #999"});
			$(selectNode).slideUp(switchSpeed).removeClass(curSelectClass).css({"border-radius":"0"});
		}
	});
	$(toggleNode).bind("click",function(e){
		if (e.stopPropagation){
			e.stopPropagation();
		}else{
			e.cancelBubble = true;
		}
	});
	//default css
	$(selectWrapper).find("*").css({"padding":"0","margin":"0","list-style":"none","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"});
	$(selectWrapper).find(selectWrapper).css({"position":"relative"});
	//toggleNode style
	$(selectWrapper).find(toggleNode).css({"position":"relative","padding":"0 10px","width":"100%","height":"38px","font-size":"14px","line-height":"36px","border-style":"solid","border-width":"1px","border-color":defaultBorderColor,"border-radius":"3px","cursor":"pointer"});
	//iconNode
	var iconArray = $(selectWrapper).find(toggleNode).find(iconNode);
	iconArray.css({"position":"absolute","right":"10px","top":"15px","color":"#606060","display":"inline-block","width":"0","height":"0","border-style":"solid","border-width":"6px","border-top-color":defaultIconColor,"border-right-color":"transparent","border-bottom-color":defaultIconColor,"border-left-color":"transparent","border-bottom-width":"0"});
	//select style
	$(selectWrapper).find(selectNode).css({"display":"none","position":"absolute","z-index":"5","width":$(selectWrapper).find(toggleNode).outerWidth(),"background-color":"#fff","border-style":"solid","border-width":"1px","border-color":defaultBorderColor,"border-top":"none"});
	//option style
	var optionArray = $(selectWrapper).find(selectNode).find(optionNode);
	optionArray.css({"padding":"0 10px","font-size":"14px","line-height":"34px","cursor":"pointer"});
	for(var i=0;i<optionArray.length;i++){
		if(optionArray.eq(i).hasClass(curOptionClass)){
			optionArray.eq(i).css("background-color","#fff6ed");
		}
	}
	//content style
	for(var i =0;i<$(controlContent).length;i++){
		if($(controlContent).eq(i).hasClass(curContentClass)){
			$(controlContent).eq(i).css({"display":"block"});
		}else{
			$(controlContent).eq(i).css({"display":"none"});
		}
	}
}


//使用 插件
$("#DropDown").DsSelect({
	_selectWrapper: ".selectWrapper", //插件绑定在哪个元素下
	_toggleNode: ".toggleNode", //绑定了点击响应事件的节点
	_selectNode: ".selectNode", //下拉列表（可为 class）
	_switchSpeed: "", //下拉列表展开（收起）的速度
	_controlContent: ".content", //点击切换显示的内容容器
	_documentClick: "true", //点击页面是否收起下拉列表
	_currentTabClass: "on" //当前的 _controlContent/_selectNode li 的 class
});

})(jQuery);



</script>
</html>
